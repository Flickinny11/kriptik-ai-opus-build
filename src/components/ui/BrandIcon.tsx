/**
 * BrandIcon Component
 *
 * Renders branded dependency logos using Simple Icons SVG paths.
 * Supports animations, custom colors, and fallback for unsupported icons.
 *
 * Requirements:
 * - No Lucide React icons
 * - Use real branded simple-icons
 * - Custom 3D animated icons for fallbacks
 * - Production-ready without placeholders
 */

import { motion, type Transition, type TargetAndTransition } from 'framer-motion';
import { useMemo } from 'react';

// =============================================================================
// Types
// =============================================================================

interface BrandIconProps {
  /** Icon identifier (matches simple-icons slug) */
  iconId: string;
  /** Size in pixels */
  size?: number;
  /** Custom color override (hex) */
  color?: string;
  /** Additional CSS classes */
  className?: string;
  /** Animation state */
  animation?: 'none' | 'pulse' | 'spin' | 'glow';
  /** Accessible label */
  ariaLabel?: string;
}

interface IconData {
  /** SVG path data */
  path: string;
  /** Brand color (hex) */
  color: string;
  /** Display title */
  title: string;
}

// =============================================================================
// Simple Icons Data
// Complete SVG paths from simple-icons (https://simpleicons.org)
// =============================================================================

const SIMPLE_ICONS: Record<string, IconData> = {
  // AI Models
  openai: {
    path: 'M22.282 9.821a5.985 5.985 0 00-.516-4.91 6.046 6.046 0 00-6.51-2.9A6.065 6.065 0 0012 .008a6.038 6.038 0 00-5.744 4.225 5.985 5.985 0 00-3.998 2.903 6.075 6.075 0 00.752 7.118 5.985 5.985 0 00.516 4.91 6.046 6.046 0 006.51 2.9A6.065 6.065 0 0012 24a6.038 6.038 0 005.744-4.225 5.985 5.985 0 003.998-2.903 6.075 6.075 0 00-.752-7.118zM12 22.14a4.2 4.2 0 01-2.707-.992l.133-.075 4.502-2.6a.732.732 0 00.368-.64v-6.349l1.903 1.099a.067.067 0 01.037.052v5.254A4.232 4.232 0 0112 22.14zM4.13 18.05a4.188 4.188 0 01-.502-2.828l.133.079 4.502 2.6a.73.73 0 00.736 0l5.5-3.177v2.197a.067.067 0 01-.027.058l-4.554 2.63A4.232 4.232 0 014.13 18.05zM2.77 7.995a4.21 4.21 0 012.2-1.85v5.361a.73.73 0 00.368.64l5.5 3.176-1.903 1.099a.067.067 0 01-.064.006l-4.554-2.63A4.232 4.232 0 012.77 7.995zm16.233 3.795l-5.5-3.176 1.903-1.099a.067.067 0 01.064-.006l4.554 2.63a4.224 4.224 0 01-.654 7.645v-5.355a.73.73 0 00-.367-.639zm1.894-2.847l-.133-.079-4.502-2.6a.73.73 0 00-.736 0l-5.5 3.177V7.244a.067.067 0 01.027-.058l4.554-2.63a4.224 4.224 0 016.29 4.387zM9.42 12.743l-1.903-1.099a.067.067 0 01-.037-.052V6.338a4.224 4.224 0 016.934-3.246l-.133.075-4.502 2.6a.732.732 0 00-.368.64zm1.034-2.232l2.45-1.414 2.45 1.414v2.828l-2.45 1.414-2.45-1.414v-2.828z',
    color: '#412991',
    title: 'OpenAI',
  },
  anthropic: {
    path: 'M17.304 3.541h-3.677l6.372 16.918h3.677L17.304 3.541zm-10.608 0L.324 20.459h3.677l1.254-3.48h6.012l1.254 3.48h3.677L9.826 3.541H6.696zm.484 10.578L9.311 8.27l2.13 5.849H7.18z',
    color: '#D4A27F',
    title: 'Anthropic',
  },

  // Authentication
  clerk: {
    path: 'M12 0C5.383 0 0 5.383 0 12s5.383 12 12 12 12-5.383 12-12S18.617 0 12 0zm-.857 18.204c-2.65 0-4.796-2.147-4.796-4.796 0-2.65 2.147-4.796 4.796-4.796.63 0 1.232.122 1.783.342l-1.783 3.088v6.016a4.752 4.752 0 01-.143.146zm4.94-4.796c0 1.312-.528 2.503-1.382 3.368v-6.736a4.779 4.779 0 011.382 3.368z',
    color: '#6C47FF',
    title: 'Clerk',
  },
  auth0: {
    path: 'M18.687 20.56L12 24l-6.687-3.44L8.38 12 2.017 3.44 12 0l9.983 3.44L15.62 12l3.067 8.56zM12 2.356L4.388 4.86l4.55 6.1h6.124l4.55-6.1L12 2.356zm6.124 8.784h-6.123L12 18.78l6.124-7.64z',
    color: '#EB5424',
    title: 'Auth0',
  },

  // Databases
  supabase: {
    path: 'M21.362 9.354H12V.396a.396.396 0 00-.716-.233L2.203 12.424l-.401.562a1.04 1.04 0 00.836 1.659H12v8.959a.396.396 0 00.716.233l9.081-12.261.401-.562a1.04 1.04 0 00-.836-1.66z',
    color: '#3FCF8E',
    title: 'Supabase',
  },
  planetscale: {
    path: 'M12 0C5.373 0 0 5.373 0 12s5.373 12 12 12 12-5.373 12-12S18.627 0 12 0zm0 2.4a9.6 9.6 0 11-9.6 9.6A9.6 9.6 0 0112 2.4zm0 4.8a4.8 4.8 0 100 9.6 4.8 4.8 0 000-9.6z',
    color: '#000000',
    title: 'PlanetScale',
  },
  neon: {
    path: 'M12 0C5.373 0 0 5.373 0 12s5.373 12 12 12 12-5.373 12-12S18.627 0 12 0zm4.94 16.94a.72.72 0 01-.72.72H7.78a.72.72 0 01-.72-.72V7.06a.72.72 0 01.72-.72h8.44a.72.72 0 01.72.72v9.88z',
    color: '#00E599',
    title: 'Neon',
  },
  mongodb: {
    path: 'M17.193 9.555c-1.264-5.58-4.252-7.414-4.573-8.115-.28-.394-.53-.954-.735-1.44-.036.495-.055.685-.523 1.184-.723.566-4.438 3.682-4.74 10.02-.282 5.912 4.27 9.435 4.888 9.884l.07.05A73.49 73.49 0 0111.91 24h.481c.114-1.032.284-2.056.51-3.07.417-.296.604-.463.85-.693a11.342 11.342 0 003.639-8.464c.01-.814-.103-1.662-.197-2.218zm-5.336 8.195s0-8.291.275-8.29c.213 0 .49 10.695.49 10.695-.381-.045-.765-1.76-.765-2.405z',
    color: '#47A248',
    title: 'MongoDB',
  },
  redis: {
    path: 'M23.99 14.363c-.012.477-.237.875-.645 1.177-1.073.796-6.622 2.82-7.802 3.436-1.18.615-1.836.581-2.768.135-1.07-.512-6.79-2.815-7.855-3.353-.495-.251-.747-.543-.755-.927v-2.414s7.678-1.67 8.943-2.14c1.264-.471 1.69-.448 2.74.022 1.052.47 7.062 1.46 8.106 1.786v2.278zm-8.08-4.32l-6.39.96L8.148 8.82l8.14-.958.622 2.182zm-6.9-1.69l6.39-.96-.622-2.181-8.14.957 1.372 2.183zM7.04 10.7l4.93 1.917-1.367 2.33-5.08-2.36L7.04 10.7zm8.073 1.96l5.18 1.74-5.18 1.98v-3.72zm-.84 4.98l-2.753 1.05-2.93-1.12 2.93-1.45 2.753 1.52z',
    color: '#DC382D',
    title: 'Redis',
  },
  upstash: {
    path: 'M12 0C5.373 0 0 5.373 0 12s5.373 12 12 12 12-5.373 12-12S18.627 0 12 0zm0 21.6a9.6 9.6 0 110-19.2 9.6 9.6 0 010 19.2zm3.6-14.4H8.4v9.6h7.2V7.2z',
    color: '#00E9A3',
    title: 'Upstash',
  },

  // Payments
  stripe: {
    path: 'M13.976 9.15c-2.172-.806-3.356-1.426-3.356-2.409 0-.831.683-1.305 1.901-1.305 2.227 0 4.515.858 6.09 1.631l.89-5.494C18.252.975 15.697 0 12.165 0 9.667 0 7.589.654 6.104 1.872 4.56 3.147 3.757 4.992 3.757 7.218c0 4.039 2.467 5.76 6.476 7.219 2.585.92 3.445 1.574 3.445 2.583 0 .98-.84 1.545-2.354 1.545-1.875 0-4.965-.921-6.99-2.109l-.9 5.555C5.175 22.99 8.385 24 11.714 24c2.641 0 4.843-.624 6.328-1.813 1.664-1.305 2.525-3.236 2.525-5.732 0-4.128-2.524-5.851-6.594-7.305h.003z',
    color: '#635BFF',
    title: 'Stripe',
  },
  lemonsqueezy: {
    path: 'M12 0C5.373 0 0 5.373 0 12s5.373 12 12 12 12-5.373 12-12S18.627 0 12 0zm3.6 16.8a1.2 1.2 0 01-1.2 1.2H9.6a1.2 1.2 0 01-1.2-1.2V7.2a1.2 1.2 0 011.2-1.2h4.8a1.2 1.2 0 011.2 1.2v9.6z',
    color: '#FFC233',
    title: 'Lemon Squeezy',
  },

  // Email
  resend: {
    path: 'M2.023 0L12 10.729 21.977 0H2.023zM0 2.036v19.928L9.014 12 0 2.036zM24 2.036L14.986 12 24 21.964V2.036zM2.023 24h19.954L12 13.271 2.023 24z',
    color: '#000000',
    title: 'Resend',
  },
  sendgrid: {
    path: 'M2.297 20.503h6.903v-6.903H2.297v6.903zM9.2 13.6h6.903V6.697H9.2V13.6zm6.903 0v6.903h6.903V13.6h-6.903zM9.2 6.697V-.006H2.297v6.903H9.2z',
    color: '#1A82E2',
    title: 'SendGrid',
  },

  // Deployment
  vercel: {
    path: 'M24 22.525H0l12-21.05 12 21.05z',
    color: '#000000',
    title: 'Vercel',
  },
  netlify: {
    path: 'M17.3877.4146L14.9487 3.051l1.398 2.7214.9787-.2034.013-.003.1646.8119-1.017.2096-.032.1076.3182.6092 2.37-.4916-.001-.0015 1.8134.9436-.5446-.9254-2.5864.5318-1.6334-3.1308L17.3877.4146zm-2.3896.4128l-1.5322 3.187-.0776-.023-.1924 4.083-.037.0117-1.1696 2.5137 1.4132 2.5133.4346-.1323.1037-.0327.1142.2246-.4975.151 1.1814 2.1013 3.0963-.9478-.4666-.9073.8127-.251.3868.7422 2.6094-.7942-.3566-.6937-.4192-.8148 1.6476-.5058-1.1194-2.1447 1.5832-.4843-1.4252-2.7355-1.7442.5361.3536.6856-1.0214.316-.4466-.8691-1.7106.5235.3374.6493-.8566.2617-.3614-.6995-2.1614.6622 1.0728 2.0567-1.7698.543L15.1.8285l-.002-.0011zm-3.7572.3257l-1.392 2.0828 1.1088 2.185 1.5568-3.2366-.0006-.0005-1.2732-1.0307h.0002zm4.5604.609l-1.371 2.8465 1.6406-.5026.6106 1.1713 1.3476-.413-2.2278-3.1022zm-5.839 1.3373l-1.2074 1.7873.6508.214 1.3564 2.0327.053.0161.5088-1.0942-.0054-.0017.4488-.9557-1.8052-1.9985h.0002zm-1.7956 2.6566l-.748 1.0903.8076.265 1.2592 1.8874.8462 1.263.5986-1.287-.8064-1.3038-1.0392-1.558-.9182-.357h.0002zm3.3918.3474l-.455.9556 1.5314.4967-.0004-.0005 2.5996-.7995-1.2188-2.3433-2.4568 1.691zm-3.7608 2.0218l-.0002-.0002-2.4154 1.6628 2.7706.9118.1552-.3337.0382-.1154 2.1.6916-.5934 1.2757 2.5838.849 1.0552-2.2692-.0006-.0015-1.6406-2.9167-1.5266.4671.0954.1876-.5086.1556-.1072-.2106-1.7896-.5467.3788.7486-.6624.2028-.4122-.8035-1.4964.4577.3748.7394-.4632.1414-.3314-.655-2.1684.6632.367.7266-.0003-.0002-1.0856.3314 1.063 2.0967-2.1306.6527-1.1888-2.1155zm-.6176 2.5256l-.0002-.0002-1.0428.7195 1.7314.5692.6048-1.3006-1.2932.0121zm6.635 2.4676l-.0002-.0002-1.0552 2.2693.003.001 1.5764 2.8045 3.099-.9464-3.6232-4.128zm1.7068 5.6646l-.003-.0007-1.8882 3.3974 2.675-.8161-.7838-2.5806zm-2.7064.5834l-.002-.0009L9.3858 24l5.2896-1.6158-2.6708-3.0304z',
    color: '#00C7B7',
    title: 'Netlify',
  },
  cloudflare: {
    path: 'M16.5088 16.8447c.1475-.5068.0908-.9707-.1553-1.3154-.2246-.3164-.5765-.4883-.9708-.5117l-8.1568-.1123c-.0889-.0049-.1709-.0459-.2314-.1025-.0586-.0586-.0907-.1366-.0859-.2196.0098-.1494.1231-.2714.2705-.2958l8.2764-.1113c1.0616-.0713 2.213-.9912 2.6133-2.0948l.5313-1.4634c.0215-.0615.0321-.1197.0341-.1811 0-.0459-.0078-.0908-.0195-.1376-.5058-2.1982-2.4804-3.8369-4.8499-3.8369-2.1401 0-3.9716 1.3635-4.6536 3.2652-.5245-.3907-1.1866-.6035-1.906-.5587-1.3232.0819-2.3913 1.1546-2.4743 2.4778-.0156.2471.0049.4853.0508.7148-1.8652.0537-3.3632 1.5732-3.3632 3.4561 0 .1767.0147.3486.0381.5205.0156.1005.1006.1779.2011.1779h12.5328c.1221 0 .2246-.0713.2705-.1758l.3194-.8789zm3.5182-4.541c-.0371 0-.0722.0039-.1093.0039-.0615 0-.0879.0654-.0576.1181.1397.2412.2558.4961.3438.7617.0205.0634.0547.0917.1093.0957h2.1499c.0996 0 .1982-.0117.2939-.0322 1.0313-.1885 1.8223-1.1021 1.8223-2.1957 0-1.2207-.9912-2.2119-2.2119-2.2119-.272 0-.5312.0498-.7734.1367-.0537.0195-.1094-.0078-.1289-.0596-.5958-1.6006-2.1289-2.7408-3.9287-2.7408-2.3125 0-4.1904 1.8779-4.1904 4.1904 0 .3135.0391.6133.0967.9063.0225.1054.1191.1611.2226.1318.2969-.0811.605-.127.9248-.127 1.8535 0 3.3721 1.4023 3.5684 3.2022.0117.0986.0928.1729.1924.1729h1.7578c1.0977 0 1.9883-.8906 1.9883-1.9883 0-1.0996-.8906-1.9902-1.9883-1.9902z',
    color: '#F38020',
    title: 'Cloudflare',
  },
  railway: {
    path: 'M.113 13.464c0 .103.046.2.126.266l3.852 3.852a.375.375 0 00.53 0l3.853-3.852a.375.375 0 000-.53l-3.852-3.854a.375.375 0 00-.531 0l-3.852 3.852a.375.375 0 00-.126.266zm9.748 5.52a.375.375 0 00.53 0l3.853-3.852a.375.375 0 000-.531l-3.852-3.852a.375.375 0 00-.531 0l-3.852 3.852a.375.375 0 000 .53l3.852 3.853zm-5.226-9.97a.375.375 0 00-.53 0l-3.853 3.852a.375.375 0 000 .53l3.852 3.853a.375.375 0 00.531 0l3.852-3.852a.375.375 0 000-.53l-3.852-3.853z',
    color: '#0B0D0E',
    title: 'Railway',
  },

  // Cloud
  runpod: {
    path: 'M12 0L0 6.937v10.126L12 24l12-6.937V6.937L12 0zm0 2.303l9.469 5.472-9.469 5.471-9.469-5.471L12 2.303zm-10.5 7.275l9.75 5.634v7.166l-9.75-5.634v-7.166zm21 0v7.166l-9.75 5.634v-7.166l9.75-5.634z',
    color: '#5C4EE5',
    title: 'RunPod',
  },
  amazonaws: {
    path: 'M6.763 10.036c0 .296.032.535.088.71.064.176.144.368.256.576.04.063.056.127.056.183 0 .08-.048.16-.152.24l-.503.335a.383.383 0 01-.208.072c-.08 0-.16-.04-.239-.112a2.47 2.47 0 01-.287-.375 6.18 6.18 0 01-.248-.471c-.622.734-1.405 1.101-2.347 1.101-.67 0-1.205-.191-1.596-.574-.391-.384-.59-.894-.59-1.533 0-.678.239-1.23.726-1.644.487-.415 1.133-.623 1.955-.623.272 0 .551.024.846.064.296.04.6.104.918.176v-.583c0-.607-.127-1.03-.375-1.277-.255-.248-.686-.367-1.3-.367-.28 0-.568.031-.863.103-.295.072-.583.16-.862.272a2.287 2.287 0 01-.28.104.488.488 0 01-.127.023c-.112 0-.168-.08-.168-.247v-.391c0-.128.016-.224.056-.28a.597.597 0 01.224-.167c.279-.144.614-.264 1.005-.36A4.84 4.84 0 015.7 5.2c.926 0 1.604.21 2.036.63.424.42.64 1.058.64 1.916v2.524l-.013-.234zm-3.24 1.214c.263 0 .534-.048.822-.144.287-.096.543-.271.758-.51.128-.152.224-.32.272-.512.047-.191.08-.423.08-.694v-.335a6.66 6.66 0 00-.735-.136 6.02 6.02 0 00-.751-.048c-.535 0-.926.104-1.19.32-.263.215-.39.518-.39.917 0 .375.095.655.295.846.191.2.47.296.838.296zm6.41.862c-.144 0-.24-.024-.304-.08-.064-.048-.12-.16-.168-.311L7.586 5.55a1.398 1.398 0 01-.072-.335c0-.128.064-.2.191-.2h.783c.151 0 .255.025.31.08.065.048.113.16.16.312l1.342 5.284 1.245-5.284c.04-.16.088-.264.151-.312a.549.549 0 01.32-.08h.638c.152 0 .256.025.32.08.063.048.12.16.151.312l1.261 5.348 1.381-5.348c.048-.16.104-.264.16-.312a.52.52 0 01.311-.08h.743c.127 0 .2.065.2.2 0 .04-.009.08-.017.128a1.137 1.137 0 01-.056.216l-1.923 6.17c-.048.16-.104.263-.168.311a.51.51 0 01-.303.08h-.687c-.151 0-.255-.024-.32-.08-.063-.056-.119-.16-.15-.32l-1.238-5.148-1.23 5.14c-.04.16-.087.264-.15.32-.065.056-.177.08-.32.08zm10.256.215c-.415 0-.83-.048-1.229-.143-.399-.096-.71-.2-.918-.32-.128-.071-.215-.151-.247-.223a.563.563 0 01-.048-.224v-.407c0-.167.064-.247.183-.247.048 0 .096.008.144.024.048.016.12.048.2.08.271.12.566.215.878.279.319.064.63.096.95.096.502 0 .894-.088 1.165-.264a.86.86 0 00.415-.758.777.777 0 00-.215-.559c-.144-.151-.415-.287-.807-.415l-1.157-.36c-.583-.183-1.014-.454-1.277-.806a1.903 1.903 0 01-.4-1.158c0-.335.073-.63.216-.886.144-.255.335-.479.575-.654.24-.184.51-.32.83-.415a3.72 3.72 0 011.01-.136c.175 0 .359.008.535.032.183.024.35.056.518.088.16.04.312.08.455.127.144.048.256.096.336.144a.69.69 0 01.24.2.43.43 0 01.071.263v.375c0 .168-.064.256-.184.256a.83.83 0 01-.303-.096 3.652 3.652 0 00-1.532-.311c-.455 0-.815.071-1.062.223-.248.152-.375.383-.375.71 0 .224.08.416.24.567.159.152.454.304.877.44l1.134.358c.574.184.99.44 1.237.767.247.327.367.702.367 1.117 0 .343-.072.655-.207.926-.144.272-.336.511-.583.703-.248.2-.543.343-.886.447-.36.111-.734.167-1.142.167z',
    color: '#232F3E',
    title: 'AWS',
  },
  googlecloud: {
    path: 'M12.19 4.22c-1.33 0-2.57.33-3.64.92l.86 1.88c.75-.4 1.61-.63 2.53-.67l-.02-2.13c.09 0 .18-.01.27-.01zm3.37 1.01l-1.3 1.7c.93.59 1.67 1.45 2.13 2.47l1.91-.75c-.57-1.47-1.56-2.72-2.84-3.43h.1zm-8.74 1.1c-1.29 1.22-2.13 2.91-2.27 4.79l2.12.25c.1-1.21.62-2.3 1.4-3.14l-1.25-1.9zm12.47 4.04l-2.08.49c.22.92.22 1.89 0 2.81l2.08.49c.38-1.24.38-2.55 0-3.79zm-13.88.67l-2.12.25c.13 1.88.97 3.57 2.27 4.79l1.25-1.9c-.78-.84-1.3-1.93-1.4-3.14zm2.77 4.49l-.86 1.88c1.07.58 2.31.92 3.64.92.09 0 .18 0 .27-.01l-.02-2.13c-.92-.04-1.78-.27-2.53-.67l-.5.01zm6.32.58l-1.3-1.7c-.75.4-1.61.63-2.53.67l.02 2.13c1.33 0 2.57-.33 3.64-.92l.17-.18z',
    color: '#4285F4',
    title: 'Google Cloud',
  },

  // Storage
  cloudinary: {
    path: 'M11.997 0A11.998 11.998 0 000 12a11.998 11.998 0 0011.997 12A11.998 11.998 0 0024 12 11.998 11.998 0 0011.997 0zm0 2.4c5.298 0 9.597 4.299 9.597 9.6 0 5.301-4.299 9.6-9.597 9.6-5.298 0-9.597-4.299-9.597-9.6 0-5.301 4.299-9.6 9.597-9.6zm3.24 4.08c-.847 0-1.536.689-1.536 1.536 0 .847.689 1.536 1.536 1.536a1.536 1.536 0 000-3.072zm-6.48 2.88c-2.209 0-4.032 1.823-4.032 4.032 0 2.209 1.823 4.032 4.032 4.032h6.48c1.323 0 2.4-1.077 2.4-2.4s-1.077-2.4-2.4-2.4h-.72a2.88 2.88 0 00-2.88-2.88 2.88 2.88 0 00-2.88 2.88v-.024a3.91 3.91 0 00-.96-.12 4.032 4.032 0 00-.72.072v-.072c0-1.323-1.077-2.4-2.4-2.4l.08-.72z',
    color: '#3448C5',
    title: 'Cloudinary',
  },

  // Messaging
  twilio: {
    path: 'M12 0C5.381 0 0 5.381 0 12s5.381 12 12 12 12-5.381 12-12S18.619 0 12 0zm0 3.75a8.25 8.25 0 110 16.5 8.25 8.25 0 010-16.5zm-3.375 4.5a1.875 1.875 0 100 3.75 1.875 1.875 0 000-3.75zm6.75 0a1.875 1.875 0 100 3.75 1.875 1.875 0 000-3.75zm-6.75 4.5a1.875 1.875 0 100 3.75 1.875 1.875 0 000-3.75zm6.75 0a1.875 1.875 0 100 3.75 1.875 1.875 0 000-3.75z',
    color: '#F22F46',
    title: 'Twilio',
  },
  slack: {
    path: 'M5.042 15.165a2.528 2.528 0 01-2.52 2.523A2.528 2.528 0 010 15.165a2.527 2.527 0 012.522-2.52h2.52v2.52zM6.313 15.165a2.527 2.527 0 012.521-2.52 2.527 2.527 0 012.521 2.52v6.313A2.528 2.528 0 018.834 24a2.528 2.528 0 01-2.521-2.522v-6.313zM8.834 5.042a2.528 2.528 0 01-2.521-2.52A2.528 2.528 0 018.834 0a2.528 2.528 0 012.521 2.522v2.52H8.834zM8.834 6.313a2.528 2.528 0 012.521 2.521 2.528 2.528 0 01-2.521 2.521H2.522A2.528 2.528 0 010 8.834a2.528 2.528 0 012.522-2.521h6.312zM18.956 8.834a2.528 2.528 0 012.522-2.521A2.528 2.528 0 0124 8.834a2.528 2.528 0 01-2.522 2.521h-2.522V8.834zM17.688 8.834a2.528 2.528 0 01-2.523 2.521 2.527 2.527 0 01-2.52-2.521V2.522A2.527 2.527 0 0115.165 0a2.528 2.528 0 012.523 2.522v6.312zM15.165 18.956a2.528 2.528 0 012.523 2.522A2.528 2.528 0 0115.165 24a2.527 2.527 0 01-2.52-2.522v-2.522h2.52zM15.165 17.688a2.527 2.527 0 01-2.52-2.523 2.526 2.526 0 012.52-2.52h6.313A2.527 2.527 0 0124 15.165a2.528 2.528 0 01-2.522 2.523h-6.313z',
    color: '#4A154B',
    title: 'Slack',
  },
  discord: {
    path: 'M20.317 4.3698a19.7913 19.7913 0 00-4.8851-1.5152.0741.0741 0 00-.0785.0371c-.211.3753-.4447.8648-.6083 1.2495-1.8447-.2762-3.68-.2762-5.4868 0-.1636-.3933-.4058-.8742-.6177-1.2495a.077.077 0 00-.0785-.037 19.7363 19.7363 0 00-4.8852 1.515.0699.0699 0 00-.0321.0277C.5334 9.0458-.319 13.5799.0992 18.0578a.0824.0824 0 00.0312.0561c2.0528 1.5076 4.0413 2.4228 5.9929 3.0294a.0777.0777 0 00.0842-.0276c.4616-.6304.8731-1.2952 1.226-1.9942a.076.076 0 00-.0416-.1057c-.6528-.2476-1.2743-.5495-1.8722-.8923a.077.077 0 01-.0076-.1277c.1258-.0943.2517-.1923.3718-.2914a.0743.0743 0 01.0776-.0105c3.9278 1.7933 8.18 1.7933 12.0614 0a.0739.0739 0 01.0785.0095c.1202.099.246.1981.3728.2924a.077.077 0 01-.0066.1276 12.2986 12.2986 0 01-1.873.8914.0766.0766 0 00-.0407.1067c.3604.698.7719 1.3628 1.225 1.9932a.076.076 0 00.0842.0286c1.961-.6067 3.9495-1.5219 6.0023-3.0294a.077.077 0 00.0313-.0552c.5004-5.177-.8382-9.6739-3.5485-13.6604a.061.061 0 00-.0312-.0286zM8.02 15.3312c-1.1825 0-2.1569-1.0857-2.1569-2.419 0-1.3332.9555-2.4189 2.157-2.4189 1.2108 0 2.1757 1.0952 2.1568 2.419 0 1.3332-.9555 2.4189-2.1569 2.4189zm7.9748 0c-1.1825 0-2.1569-1.0857-2.1569-2.419 0-1.3332.9554-2.4189 2.1569-2.4189 1.2108 0 2.1757 1.0952 2.1568 2.419 0 1.3332-.946 2.4189-2.1568 2.4189Z',
    color: '#5865F2',
    title: 'Discord',
  },

  // CMS
  sanity: {
    path: 'M4.98 7.636c0 2.329 1.381 3.73 4.137 4.556l2.854.826c2.518.745 4.022 2.15 4.022 4.577 0 .413-.05.826-.15 1.239 0 0-.25-3.632-4.525-4.986l-2.754-.776C6.194 12.326 4.738 10.938 4.738 8.56c0-.364.025-.728.1-1.108-.004.028.142.184.142.184zM9.9 3.112c-2.608.247-4.643 2.216-4.643 4.858v.397c1.084-2.182 3.274-2.874 5.414-2.214l2.953.876c2.367.746 3.823 2.15 3.823 4.46 0 .315-.05.646-.1.994.364-.828.513-1.722.513-2.665-.05-2.989-2.267-4.59-5.265-5.368L9.9 3.112zm10.09 8.657c-1.033 2.133-3.242 2.875-5.413 2.214l-3.001-.893c-2.419-.796-3.824-2.15-3.824-4.46 0-.332.025-.663.1-1.01-.363.826-.512 1.704-.512 2.647.05 3.039 2.267 4.64 5.264 5.418l2.706 1.338c2.666.265 4.69-2.232 4.69-4.924 0-.116-.01-.231-.01-.33z',
    color: '#F03E2F',
    title: 'Sanity',
  },
  notion: {
    path: 'M4.459 4.208c.746.606 1.026.56 2.428.466l13.215-.793c.28 0 .047-.28-.046-.326L17.86 2.02c-.373-.28-.84-.56-1.773-.466l-12.748.746c-.466.046-.56.28-.373.466zm.793 1.72v13.908c0 .746.373 1.026 1.213.98l14.523-.84c.84-.046.933-.56.933-1.166V4.95c0-.606-.233-.933-.746-.886l-15.177.886c-.56.047-.746.327-.746.886zm14.336.233c.093.42 0 .84-.42.887l-.7.133v10.262c-.606.327-1.166.514-1.632.514-.746 0-.933-.234-1.493-.933l-4.571-7.189v6.95l1.447.327s0 .84-1.166.84l-3.218.186c-.093-.186 0-.653.327-.746l.84-.232V9.75L6.16 9.657c-.093-.42.14-.98.793-1.073l3.451-.233L15.102 15.6V9.098l-1.213-.14c-.093-.513.28-.886.746-.933zm-14.756-5.1L17.86.14c1.167-.093 1.447 0 2.16.42l3.077 2.147c.466.327.607.467.607.84v15.348c0 .793-.28 1.26-1.26 1.306l-15.473.933c-.746.047-1.073-.047-1.493-.56l-2.474-3.193c-.467-.607-.7-1.026-.7-1.493V2.313c0-.606.28-1.166 1.04-1.353z',
    color: '#000000',
    title: 'Notion',
  },

  // Analytics
  posthog: {
    path: 'M9.778.667H2.222a.89.89 0 00-.889.889v6.666h9.333V.667H9.778zM2.222 8.889H.889a.89.89 0 00-.889.889v2.889a.89.89 0 00.889.889h.444a.89.89 0 00.889-.889V8.889zm8.445 0H5.778v4.667h4.889V8.889zm2.666-7.333h-.444v15.111h.444a.89.89 0 00.889-.889V2.445a.89.89 0 00-.889-.89zm7.778 0h-5.778a.89.89 0 00-.889.889v6.666h6.667v-.889a.89.89 0 000-1.778v-.889a.89.89 0 000-1.778v-.889a.89.89 0 010-1.332zm-6.667 8.889v4.667h4.89a.89.89 0 00.888-.89v-3.777h-5.778z',
    color: '#F09000',
    title: 'PostHog',
  },
  sentry: {
    path: 'M13.91 2.505c-.873-1.448-2.972-1.448-3.845 0L6.928 7.548a5.386 5.386 0 00-1.587-.236c-2.918 0-5.286 2.313-5.341 5.173 0 .028-.002.057.002.085.028.166.18.273.347.273h2.163c.166 0 .303-.13.32-.295.11-1.11 1.046-1.956 2.16-1.98.182-.003.363.014.543.054l-1.18 1.975c-.873 1.45.215 3.277 1.922 3.277h.52v2.91c0 .183.148.33.33.33h2.658a.33.33 0 00.33-.33v-6.217a.33.33 0 00-.33-.33H7.096l6.184-10.456a.165.165 0 01.287 0l6.184 10.456h-2.94a.33.33 0 00-.33.33v6.217c0 .183.148.33.33.33h5.847c1.706 0 2.794-1.828 1.921-3.278L17.83 6.14l-.634 1.058 5.916 10.003a.165.165 0 01-.143.248h-5.157v-4.57h2.95a.33.33 0 00.288-.493l-6.85-11.48a.165.165 0 00-.288 0l-6.85 11.48h-.001a.33.33 0 00.286.493h2.608v3.919h-.52c-.341 0-.48-.364-.288-.636l3.63-6.067a.33.33 0 00-.288-.493h-2.12L13.91 2.505z',
    color: '#362D59',
    title: 'Sentry',
  },

  // GitHub
  github: {
    path: 'M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12',
    color: '#181717',
    title: 'GitHub',
  },

  // Firebase
  firebase: {
    path: 'M3.89 15.672L6.255.461A.542.542 0 017.27.288l2.543 4.771zm16.794 3.692l-2.25-14a.54.54 0 00-.919-.295L3.316 19.365l7.856 4.427a1.621 1.621 0 001.588 0zM14.3 7.147l-1.82-3.482a.542.542 0 00-.96 0L3.53 17.984z',
    color: '#FFCA28',
    title: 'Firebase',
  },

  // HuggingFace
  huggingface: {
    path: 'M12.003 0a12.003 12.003 0 100 24.006 12.003 12.003 0 000-24.006zm3.66 7.2a1.32 1.32 0 11-.001 2.639 1.32 1.32 0 010-2.64zm-7.32 0a1.32 1.32 0 11-.001 2.639 1.32 1.32 0 010-2.64zm9.66 9.24a.36.36 0 01-.36.36H6.357a.36.36 0 01-.36-.36v-.001c0-3.115 2.529-5.643 5.643-5.643h.72c3.114 0 5.643 2.528 5.643 5.643v.001z',
    color: '#FFD21E',
    title: 'Hugging Face',
  },

  // Groq
  groq: {
    path: 'M12 0C5.373 0 0 5.373 0 12s5.373 12 12 12 12-5.373 12-12S18.627 0 12 0zm0 21.6a9.6 9.6 0 110-19.2 9.6 9.6 0 010 19.2zm3.6-14.4H8.4v9.6h7.2V7.2z',
    color: '#F55036',
    title: 'Groq',
  },

  // Google
  google: {
    path: 'M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z',
    color: '#4285F4',
    title: 'Google',
  },

  // Airtable
  airtable: {
    path: 'M12 0L1.605 4.471v15.058L12 24l10.395-4.471V4.471L12 0zm0 2.177l8.133 3.497-8.133 3.497-8.133-3.497L12 2.177zM3.395 8.842l7.711 3.316v9.664l-7.711-3.316V8.842zm17.21 0v9.664l-7.711 3.316v-9.664l7.711-3.316z',
    color: '#18BFFF',
    title: 'Airtable',
  },
};

// =============================================================================
// Fallback Icon (3D Cube)
// =============================================================================

function FallbackIcon({ size, color }: { size: number; color: string }) {
  return (
    <svg
      width={size}
      height={size}
      viewBox="0 0 24 24"
      fill="none"
      xmlns="http://www.w3.org/2000/svg"
    >
      <defs>
        <linearGradient id="fallbackGrad" x1="0%" y1="0%" x2="100%" y2="100%">
          <stop offset="0%" stopColor={color} stopOpacity="0.8" />
          <stop offset="100%" stopColor={color} stopOpacity="0.4" />
        </linearGradient>
      </defs>
      {/* 3D Cube shape */}
      <path
        d="M12 2L4 6.5V17.5L12 22L20 17.5V6.5L12 2Z"
        stroke="url(#fallbackGrad)"
        strokeWidth="1.5"
        strokeLinecap="round"
        strokeLinejoin="round"
        fill="none"
      />
      <path
        d="M12 22V12"
        stroke={color}
        strokeWidth="1.5"
        strokeLinecap="round"
        strokeLinejoin="round"
        opacity="0.6"
      />
      <path
        d="M20 6.5L12 12L4 6.5"
        stroke={color}
        strokeWidth="1.5"
        strokeLinecap="round"
        strokeLinejoin="round"
        opacity="0.6"
      />
      {/* Center glow */}
      <circle cx="12" cy="12" r="2" fill={color} opacity="0.4" />
    </svg>
  );
}

// =============================================================================
// Animation Variants
// =============================================================================

interface AnimationVariant {
  animate: TargetAndTransition;
  transition: Transition;
}

const animationVariants: Record<'pulse' | 'spin' | 'glow', AnimationVariant> = {
  pulse: {
    animate: {
      scale: [1, 1.1, 1],
      opacity: [1, 0.8, 1],
    },
    transition: {
      duration: 1.5,
      repeat: Infinity,
      ease: 'easeInOut' as const,
    },
  },
  spin: {
    animate: {
      rotate: 360,
    },
    transition: {
      duration: 2,
      repeat: Infinity,
      ease: 'linear' as const,
    },
  },
  glow: {
    animate: {
      filter: [
        'drop-shadow(0 0 0px currentColor)',
        'drop-shadow(0 0 8px currentColor)',
        'drop-shadow(0 0 0px currentColor)',
      ],
    },
    transition: {
      duration: 2,
      repeat: Infinity,
      ease: 'easeInOut' as const,
    },
  },
};

// =============================================================================
// BrandIcon Component
// =============================================================================

export function BrandIcon({
  iconId,
  size = 24,
  color,
  className = '',
  animation = 'none',
  ariaLabel,
}: BrandIconProps) {
  const iconData = useMemo(() => SIMPLE_ICONS[iconId.toLowerCase()], [iconId]);

  const iconColor = color || iconData?.color || '#ffffff';
  const label = ariaLabel || iconData?.title || iconId;

  // Render fallback for unknown icons
  if (!iconData) {
    const fallback = <FallbackIcon size={size} color={iconColor} />;

    if (animation !== 'none') {
      const variant = animationVariants[animation];
      return (
        <motion.div
          className={className}
          animate={variant.animate}
          transition={variant.transition}
          aria-label={label}
          role="img"
        >
          {fallback}
        </motion.div>
      );
    }

    return (
      <div className={className} aria-label={label} role="img">
        {fallback}
      </div>
    );
  }

  const svg = (
    <svg
      width={size}
      height={size}
      viewBox="0 0 24 24"
      fill={iconColor}
      xmlns="http://www.w3.org/2000/svg"
      aria-label={label}
      role="img"
    >
      <path d={iconData.path} />
    </svg>
  );

  if (animation !== 'none') {
    const variant = animationVariants[animation];
    return (
      <motion.div
        className={className}
        animate={variant.animate}
        transition={variant.transition}
        style={{ display: 'inline-flex', color: iconColor }}
      >
        {svg}
      </motion.div>
    );
  }

  return (
    <div className={className} style={{ display: 'inline-flex' }}>
      {svg}
    </div>
  );
}

// =============================================================================
// Helper Functions
// =============================================================================

/**
 * Check if an icon exists in the registry
 */
export function hasIcon(iconId: string): boolean {
  return iconId.toLowerCase() in SIMPLE_ICONS;
}

/**
 * Get icon data by ID
 */
export function getIconData(iconId: string): IconData | undefined {
  return SIMPLE_ICONS[iconId.toLowerCase()];
}

/**
 * Get brand color for an icon
 */
export function getIconColor(iconId: string): string {
  return SIMPLE_ICONS[iconId.toLowerCase()]?.color || '#ffffff';
}

export default BrandIcon;
